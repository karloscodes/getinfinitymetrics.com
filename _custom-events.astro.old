---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";

const pageTitle = "Custom Events | Infinity Metrics";
const pageDescription = "Learn how to track custom events with Infinity Metrics to capture user interactions and business metrics beyond basic page views.";
---

<Layout title={pageTitle} description={pageDescription}>
	<Header />
	<main class="py-12 md:py-20 overflow-hidden">
		<div class="container px-4 sm:px-6 overflow-hidden">
			<div class="max-w-4xl mx-auto">
				<!-- Breadcrumb -->
				<nav class="mb-8">
					<ol class="flex space-x-2 text-sm text-gray-500">
						<li><a href="/docs" class="hover:text-blue-600">Documentation</a></li>
						<li>/</li>
						<li class="text-gray-900">Custom Events</li>
					</ol>
				</nav>

				<h1 class="text-4xl md:text-5xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-black to-gray-700">
					Custom Events
				</h1>
				
				<p class="text-xl text-gray-600 mb-8">
					Track specific user interactions and business events that matter to your application beyond basic page views and clicks.
				</p>

				<!-- Introduction -->
				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-6 text-black">Why Track Custom Events?</h2>
					<div class="bg-blue-50 border-l-4 border-blue-400 p-6 rounded-r-xl mb-6">
						<p class="text-blue-900">
							While page views give you basic traffic insights, custom events help you understand user behavior, measure feature adoption, track conversions, and identify optimization opportunities.
						</p>
					</div>
					
					<div class="grid md:grid-cols-2 gap-6">
						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-lg font-semibold mb-3 text-black">üìä Business Metrics</h3>
							<ul class="text-gray-600 space-y-1 text-sm">
								<li>‚Ä¢ Sign-ups and registrations</li>
								<li>‚Ä¢ Feature usage and adoption</li>
								<li>‚Ä¢ Purchase and conversion events</li>
								<li>‚Ä¢ Goal completions</li>
							</ul>
						</div>
						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-lg font-semibold mb-3 text-black">üéØ User Behavior</h3>
							<ul class="text-gray-600 space-y-1 text-sm">
								<li>‚Ä¢ Content engagement (video plays, downloads)</li>
								<li>‚Ä¢ Form interactions and abandonments</li>
								<li>‚Ä¢ Search queries and results</li>
								<li>‚Ä¢ User journey milestones</li>
							</ul>
						</div>
					</div>
				</section>

				<!-- Basic Event Tracking -->
				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-6 text-black">Basic Event Tracking</h2>
					
					<h3 class="text-xl font-semibold mb-4 text-black">sendCustomEvent Function</h3>
					<p class="text-gray-600 mb-4">
						The core function for tracking custom events in Infinity Metrics:
					</p>
					
					<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto mb-6">
						<pre class="text-white"><code>window.InfinityMetrics.sendCustomEvent(eventName, metadata)</code></pre>
					</div>

					<div class="grid md:grid-cols-2 gap-6 mb-6">
						<div class="card p-6 rounded-xl shadow-sm border-l-4 border-blue-400">
							<h4 class="font-semibold mb-2 text-black">eventName (required)</h4>
							<p class="text-gray-600 text-sm mb-2">
								A descriptive string that identifies the event type.
							</p>
							<ul class="text-gray-600 text-sm space-y-1">
								<li>‚Ä¢ Use snake_case format (e.g., "video_played")</li>
								<li>‚Ä¢ Keep under 50 characters</li>
								<li>‚Ä¢ Be specific and consistent</li>
							</ul>
						</div>
						<div class="card p-6 rounded-xl shadow-sm border-l-4 border-green-400">
							<h4 class="font-semibold mb-2 text-black">metadata (optional)</h4>
							<p class="text-gray-600 text-sm mb-2">
								An object containing additional event data.
							</p>
							<ul class="text-gray-600 text-sm space-y-1">
								<li>‚Ä¢ Include relevant context</li>
								<li>‚Ä¢ Use consistent property names</li>
								<li>‚Ä¢ Avoid sensitive information</li>
							</ul>
						</div>
					</div>

					<h3 class="text-xl font-semibold mb-4 text-black">Simple Example</h3>
					<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto mb-4">
						<pre class="text-white"><code>{`// Track a simple button click
window.InfinityMetrics.sendCustomEvent('newsletter_signup');`}</code></pre>
					</div>

					<h3 class="text-xl font-semibold mb-4 text-black">Example with Metadata</h3>
					<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto mb-4">
						<pre class="text-white"><code>{`// Track with additional context
window.InfinityMetrics.sendCustomEvent('video_played', {
  videoId: 'intro-tutorial',
  videoTitle: 'Getting Started Guide',
  duration: 120,
  quality: '1080p',
  autoplay: false
});`}</code></pre>
					</div>
				</section>

				<!-- Event Categories -->
				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-6 text-black">Common Event Categories</h2>
					
					<div class="space-y-8">
						<!-- User Engagement -->
						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-xl font-semibold mb-4 text-black flex items-center">
								<span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3">
									<span class="text-blue-600 text-sm">üëÜ</span>
								</span>
								User Engagement Events
							</h3>
							<p class="text-gray-600 mb-4">Track how users interact with your content and features.</p>
							
							<div class="space-y-4">
								<div class="border-l-4 border-blue-400 pl-4">
									<h4 class="font-semibold text-black mb-2">Video Engagement</h4>
									<div class="bg-black p-3 rounded-md font-mono text-xs overflow-x-auto">
										<pre class="text-white"><code>// Video started
window.InfinityMetrics.sendCustomEvent('video_started', {
  videoId: 'product_demo',
  source: 'homepage_hero'
});

// Video milestone
window.InfinityMetrics.sendCustomEvent('video_progress', {
  videoId: 'product_demo',
  progress: 25, // percentage
  currentTime: 30 // seconds
});

// Video completed
window.InfinityMetrics.sendCustomEvent('video_completed', {
  videoId: 'product_demo',
  totalDuration: 120,
  completionRate: 100
});</code></pre>
									</div>
								</div>

								<div class="border-l-4 border-green-400 pl-4">
									<h4 class="font-semibold text-black mb-2">File Downloads</h4>
									<div class="bg-black p-3 rounded-md font-mono text-xs overflow-x-auto">
										<pre class="text-white"><code>// File download
window.InfinityMetrics.sendCustomEvent('file_downloaded', {
  fileName: 'product_brochure.pdf',
  fileType: 'pdf',
  fileSize: '2.4MB',
  downloadSource: 'pricing_page'
});</code></pre>
									</div>
								</div>

								<div class="border-l-4 border-purple-400 pl-4">
									<h4 class="font-semibold text-black mb-2">Search Interactions</h4>
									<div class="bg-black p-3 rounded-md font-mono text-xs overflow-x-auto">
										<pre class="text-white"><code>// Search performed
window.InfinityMetrics.sendCustomEvent('search_performed', {
  searchTerm: 'analytics dashboard',
  searchType: 'site_search',
  resultsCount: 15,
  category: 'documentation'
});</code></pre>
									</div>
								</div>
							</div>
						</div>

						<!-- Business Events -->
						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-xl font-semibold mb-4 text-black flex items-center">
								<span class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3">
									<span class="text-green-600 text-sm">üíº</span>
								</span>
								Business Milestone Events
							</h3>
							<p class="text-gray-600 mb-4">Track important business events and user achievements.</p>
							
							<div class="space-y-4">
								<div class="border-l-4 border-green-400 pl-4">
									<h4 class="font-semibold text-black mb-2">User Registration</h4>
									<div class="bg-black p-3 rounded-md font-mono text-xs overflow-x-auto">
										<pre class="text-white"><code>// User signed up
window.InfinityMetrics.sendCustomEvent('user_registered', {
  registrationMethod: 'email',
  userType: 'free_trial',
  referralSource: 'google_ads',
  signupLocation: 'header_cta'
});</code></pre>
									</div>
								</div>

								<div class="border-l-4 border-blue-400 pl-4">
									<h4 class="font-semibold text-black mb-2">Feature Usage</h4>
									<div class="bg-black p-3 rounded-md font-mono text-xs overflow-x-auto">
										<pre class="text-white"><code>// Feature used
window.InfinityMetrics.sendCustomEvent('feature_used', {
  featureName: 'advanced_filters',
  userPlan: 'premium',
  usageCount: 3,
  sessionDuration: 240
});</code></pre>
									</div>
								</div>

								<div class="border-l-4 border-yellow-400 pl-4">
									<h4 class="font-semibold text-black mb-2">Goal Completion</h4>
									<div class="bg-black p-3 rounded-md font-mono text-xs overflow-x-auto">
										<pre class="text-white"><code>// Onboarding completed
window.InfinityMetrics.sendCustomEvent('onboarding_completed', {
  onboardingType: 'guided_tour',
  stepsCompleted: 5,
  totalSteps: 5,
  timeSpent: 180,
  completionRate: 100
});</code></pre>
									</div>
								</div>
							</div>
						</div>

						<!-- Form Events -->
						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-xl font-semibold mb-4 text-black flex items-center">
								<span class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3">
									<span class="text-orange-600 text-sm">üìã</span>
								</span>
								Form Interaction Events
							</h3>
							<p class="text-gray-600 mb-4">Track form engagement and optimize conversion funnels.</p>
							
							<div class="space-y-4">
								<div class="border-l-4 border-orange-400 pl-4">
									<h4 class="font-semibold text-black mb-2">Form Lifecycle</h4>
									<div class="bg-black p-3 rounded-md font-mono text-xs overflow-x-auto">
										<pre class="text-white"><code>// Form started
window.InfinityMetrics.sendCustomEvent('form_started', {
  formId: 'contact_form',
  formType: 'lead_generation',
  page: 'contact_us'
});

// Form field focused
window.InfinityMetrics.sendCustomEvent('form_field_focused', {
  formId: 'contact_form',
  fieldName: 'email',
  fieldPosition: 2
});

// Form submitted
window.InfinityMetrics.sendCustomEvent('form_submitted', {
  formId: 'contact_form',
  completionTime: 45,
  fieldsCompleted: 4,
  totalFields: 4
});

// Form abandoned
window.InfinityMetrics.sendCustomEvent('form_abandoned', {
  formId: 'contact_form',
  lastField: 'phone_number',
  completionRate: 75,
  timeSpent: 32
});</code></pre>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>

				<!-- E-commerce Events -->
				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-6 text-black">E-commerce Events</h2>
					<p class="text-gray-600 mb-6">
						Track the complete customer journey from product discovery to purchase.
					</p>

					<div class="space-y-6">
						<div class="card p-6 rounded-xl shadow-sm border-l-4 border-indigo-400">
							<h3 class="text-lg font-semibold mb-3 text-black">Product Interactions</h3>
							<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto">
								<pre class="text-white"><code>// Product viewed
window.InfinityMetrics.sendCustomEvent('product_viewed', {
  productId: 'prod_123',
  productName: 'Premium Analytics Dashboard',
  productCategory: 'software',
  price: 99.99,
  currency: 'USD',
  viewSource: 'category_page'
});

// Product added to cart
window.InfinityMetrics.sendCustomEvent('add_to_cart', {
  productId: 'prod_123',
  quantity: 1,
  price: 99.99,
  currency: 'USD',
  cartTotal: 99.99
});

// Cart viewed
window.InfinityMetrics.sendCustomEvent('cart_viewed', {
  cartValue: 199.98,
  itemCount: 2,
  currency: 'USD'
});</code></pre>
							</div>
						</div>

						<div class="card p-6 rounded-xl shadow-sm border-l-4 border-green-400">
							<h3 class="text-lg font-semibold mb-3 text-black">Checkout Process</h3>
							<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto">
								<pre class="text-white"><code>// Checkout started
window.InfinityMetrics.sendCustomEvent('checkout_started', {
  cartValue: 199.98,
  itemCount: 2,
  currency: 'USD',
  checkoutType: 'guest'
});

// Checkout step completed
window.InfinityMetrics.sendCustomEvent('checkout_step_completed', {
  step: 'shipping_info',
  stepNumber: 2,
  totalSteps: 4
});

// Payment method selected
window.InfinityMetrics.sendCustomEvent('payment_method_selected', {
  paymentMethod: 'credit_card',
  paymentProvider: 'stripe'
});</code></pre>
							</div>
						</div>
					</div>
				</section>

				<!-- Event Implementation Patterns -->
				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-6 text-black">Implementation Patterns</h2>
					
					<div class="space-y-6">
						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-xl font-semibold mb-4 text-black">Event Handler Pattern</h3>
							<p class="text-gray-600 mb-4">
								Attach event tracking to existing event handlers for seamless integration.
							</p>
							<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto">
								<pre class="text-white"><code>// Button click tracking
document.getElementById('signup-btn').addEventListener('click', function(e) {
  // Your existing click logic
  showSignupModal();
  
  // Track the event
  window.InfinityMetrics.sendCustomEvent('signup_button_clicked', {
    buttonLocation: 'header',
    page: window.location.pathname
  });
});

// Form submission tracking
document.getElementById('contact-form').addEventListener('submit', function(e) {
  const formData = new FormData(e.target);
  
  window.InfinityMetrics.sendCustomEvent('contact_form_submitted', {
    inquiryType: formData.get('inquiry_type'),
    companySize: formData.get('company_size')
  });
});</code></pre>
							</div>
						</div>

						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-xl font-semibold mb-4 text-black">Conditional Tracking</h3>
							<p class="text-gray-600 mb-4">
								Track events only when specific conditions are met.
							</p>
							<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto">
								<pre class="text-white"><code>// Track only for logged-in users
function trackFeatureUsage(featureName) {
  if (window.userAuth && window.userAuth.isLoggedIn) {
    window.InfinityMetrics.sendCustomEvent('feature_used', {
      featureName: featureName,
      userPlan: window.userAuth.planType,
      userId: window.userAuth.userId
    });
  }
}

// Track with error handling
function safeTrackEvent(eventName, metadata) {
  try {
    if (window.InfinityMetrics && window.InfinityMetrics.sendCustomEvent) {
      window.InfinityMetrics.sendCustomEvent(eventName, metadata);
    }
  } catch (error) {
    console.warn('Analytics tracking failed:', error);
  }
}</code></pre>
							</div>
						</div>

						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-xl font-semibold mb-4 text-black">Timing Events</h3>
							<p class="text-gray-600 mb-4">
								Track duration and timing for user interactions.
							</p>
							<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto">
								<pre class="text-white"><code>// Track time spent on page
let pageStartTime = Date.now();

window.addEventListener('beforeunload', function() {
  const timeSpent = Math.round((Date.now() - pageStartTime) / 1000);
  
  window.InfinityMetrics.sendCustomEvent('page_time_spent', {
    page: window.location.pathname,
    timeSpent: timeSpent,
    category: 'engagement'
  });
});

// Track task completion time
let taskStartTime;

function startTask() {
  taskStartTime = Date.now();
}

function completeTask(taskType) {
  const duration = Math.round((Date.now() - taskStartTime) / 1000);
  
  window.InfinityMetrics.sendCustomEvent('task_completed', {
    taskType: taskType,
    duration: duration,
    success: true
  });
}</code></pre>
							</div>
						</div>
					</div>
				</section>

				<!-- Best Practices -->
				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-6 text-black">Best Practices</h2>
					
					<div class="grid md:grid-cols-2 gap-6">
						<div class="card p-6 rounded-xl shadow-sm border-l-4 border-green-500">
							<h3 class="text-lg font-semibold mb-3 text-black">‚úÖ Do</h3>
							<ul class="text-gray-600 space-y-2 text-sm">
								<li>‚Ä¢ Use descriptive, consistent event names</li>
								<li>‚Ä¢ Include relevant context in metadata</li>
								<li>‚Ä¢ Group related events with prefixes</li>
								<li>‚Ä¢ Document your event schema</li>
								<li>‚Ä¢ Test events in development</li>
								<li>‚Ä¢ Track both success and failure states</li>
								<li>‚Ä¢ Use snake_case for naming</li>
							</ul>
						</div>
						<div class="card p-6 rounded-xl shadow-sm border-l-4 border-red-500">
							<h3 class="text-lg font-semibold mb-3 text-black">‚ùå Don't</h3>
							<ul class="text-gray-600 space-y-2 text-sm">
								<li>‚Ä¢ Track sensitive personal information</li>
								<li>‚Ä¢ Use cryptic or abbreviated names</li>
								<li>‚Ä¢ Create events for every minor interaction</li>
								<li>‚Ä¢ Include large objects in metadata</li>
								<li>‚Ä¢ Track events without clear purpose</li>
								<li>‚Ä¢ Forget to handle edge cases</li>
								<li>‚Ä¢ Mix naming conventions</li>
							</ul>
						</div>
					</div>
				</section>

				<!-- Event Schema Documentation -->
				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-6 text-black">Event Schema Documentation</h2>
					<p class="text-gray-600 mb-6">
						Document your custom events to maintain consistency across your team and applications.
					</p>

					<div class="bg-gray-50 p-6 rounded-xl">
						<h3 class="text-lg font-semibold mb-4 text-black">Example Event Documentation</h3>
						<div class="bg-white border rounded-lg overflow-hidden">
							<div class="p-4 border-b bg-gray-50">
								<h4 class="font-semibold text-black">Event: user_registered</h4>
							</div>
							<div class="p-4">
								<p class="text-gray-600 mb-4"><strong>Description:</strong> Triggered when a user completes the registration process</p>
								<div class="overflow-x-auto">
									<table class="min-w-full divide-y divide-gray-200">
										<thead class="bg-gray-50">
											<tr>
												<th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Property</th>
												<th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Type</th>
												<th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Required</th>
												<th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">Description</th>
											</tr>
										</thead>
										<tbody class="divide-y divide-gray-200">
											<tr>
												<td class="px-4 py-2 text-sm text-gray-900">registrationMethod</td>
												<td class="px-4 py-2 text-sm text-gray-500">string</td>
												<td class="px-4 py-2 text-sm text-gray-500">Yes</td>
												<td class="px-4 py-2 text-sm text-gray-500">How the user registered (email, google, etc.)</td>
											</tr>
											<tr>
												<td class="px-4 py-2 text-sm text-gray-900">userType</td>
												<td class="px-4 py-2 text-sm text-gray-500">string</td>
												<td class="px-4 py-2 text-sm text-gray-500">Yes</td>
												<td class="px-4 py-2 text-sm text-gray-500">Initial user type (free, trial, premium)</td>
											</tr>
											<tr>
												<td class="px-4 py-2 text-sm text-gray-900">referralSource</td>
												<td class="px-4 py-2 text-sm text-gray-500">string</td>
												<td class="px-4 py-2 text-sm text-gray-500">No</td>
												<td class="px-4 py-2 text-sm text-gray-500">Traffic source that led to registration</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</section>

				<!-- Testing & Debugging -->
				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-6 text-black">Testing & Debugging</h2>
					
					<div class="space-y-6">
						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-lg font-semibold mb-3 text-black">Debug Mode</h3>
							<p class="text-gray-600 mb-4">
								Enable debug mode to see event tracking in your browser console.
							</p>
							<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto">
								<pre class="text-white"><code>// Enable debug mode before the SDK loads
window.InfinityMetrics = window.InfinityMetrics || {};
window.InfinityMetrics.config = {
  debug: true
};</code></pre>
							</div>
						</div>

						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-lg font-semibold mb-3 text-black">Manual Testing</h3>
							<p class="text-gray-600 mb-4">
								Test your events manually using the browser console.
							</p>
							<div class="bg-black p-4 rounded-md font-mono text-sm overflow-x-auto">
								<pre class="text-white"><code>// Test an event in the browser console
window.InfinityMetrics.sendCustomEvent('test_event', {
  testProperty: 'test_value',
  timestamp: new Date().toISOString()
});</code></pre>
							</div>
						</div>

						<div class="card p-6 rounded-xl shadow-sm">
							<h3 class="text-lg font-semibold mb-3 text-black">Network Inspection</h3>
							<p class="text-gray-600 mb-4">
								Monitor network requests to verify events are being sent.
							</p>
							<ol class="text-gray-600 space-y-1 text-sm">
								<li>1. Open browser Developer Tools (F12)</li>
								<li>2. Go to Network tab</li>
								<li>3. Filter by your Infinity Metrics domain</li>
								<li>4. Trigger events and watch for requests</li>
								<li>5. Inspect request payloads to verify data</li>
							</ol>
						</div>
					</div>
				</section>

				<!-- Next Steps -->
				<section class="bg-blue-50 rounded-xl p-8">
					<h2 class="text-2xl font-bold mb-4 text-black">Next Steps</h2>
					<p class="text-gray-600 mb-6">
						Now that you understand custom events, explore related features to get the most out of your analytics.
					</p>
					<div class="grid md:grid-cols-2 gap-4">
						<a href="/docs/revenue-tracking" class="bg-white p-4 rounded-lg border border-blue-200 hover:border-blue-300 transition-colors">
							<h3 class="font-semibold text-black mb-2">üí∞ Revenue Tracking</h3>
							<p class="text-gray-600 text-sm">Track purchases and revenue attribution</p>
						</a>
						<a href="/docs/goals" class="bg-white p-4 rounded-lg border border-blue-200 hover:border-blue-300 transition-colors">
							<h3 class="font-semibold text-black mb-2">üéØ Goals & Conversions</h3>
							<p class="text-gray-600 text-sm">Set up conversion goals and funnels</p>
						</a>
						<a href="/docs/dashboard" class="bg-white p-4 rounded-lg border border-blue-200 hover:border-blue-300 transition-colors">
							<h3 class="font-semibold text-black mb-2">üìä Dashboard Guide</h3>
							<p class="text-gray-600 text-sm">Learn to analyze your event data</p>
						</a>
						<a href="/docs/api" class="bg-white p-4 rounded-lg border border-blue-200 hover:border-blue-300 transition-colors">
							<h3 class="font-semibold text-black mb-2">üîå API Reference</h3>
							<p class="text-gray-600 text-sm">Server-side event tracking</p>
						</a>
					</div>
				</section>
			</div>
		</div>
	</main>
	<Footer />
</Layout>
