---
import DocsLayout from "../../../layouts/DocsLayout.astro";
---

<DocsLayout title="React Integration - Infinity Metrics">
  <h1>React Integration</h1>
  <p>
    Complete guide to integrating Infinity Metrics with React applications and
    React Router.
  </p>

  <h2>Installation</h2>
  <p>Add the tracking script to your React app:</p>
  <pre><code>// public/index.html
&lt;head&gt;
  &lt;script src="https://your-domain.com/infinity.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    Infinity.init(&#123;
      site_id: 'your-site-id'
    &#125;);
  &lt;/script&gt;
&lt;/head&gt;</code></pre>

  <h2>React Router Integration</h2>
  <p>Track route changes in React Router:</p>
  <pre><code>// App.js
import &#123; useEffect &#125; from 'react';
import &#123; useLocation &#125; from 'react-router-dom';

function App() &#123;
  const location = useLocation();

  useEffect(() =&gt; &#123;
    Infinity.track('page_view', &#123;
      path: location.pathname,
      title: document.title
    &#125;);
  &#125;, [location]);

  return (
    // Your app content
  );
&#125;</code></pre>

  <h2>Custom Hook</h2>
  <p>Create a custom hook for tracking:</p>
  <pre><code>// hooks/useInfinity.js
import &#123; useCallback &#125; from 'react';

export function useInfinity() &#123;
  const track = useCallback((event, properties) =&gt; &#123;
    if (window.Infinity) &#123;
      window.Infinity.track(event, properties);
    &#125;
  &#125;, []);

  return &#123; track &#125;;
&#125;</code></pre>

  <h2>Component Example</h2>
  <p>Use the hook in your components:</p>
  <pre><code>// components/Button.jsx
import &#123; useInfinity &#125; from '../hooks/useInfinity';

export default function Button() &#123;
  const &#123; track &#125; = useInfinity();

  const handleClick = () =&gt; &#123;
    track('button_click', &#123;
      button_name: 'Subscribe',
      component: 'Header'
    &#125;);
  &#125;;

  return &lt;button onClick=&#123;handleClick&#125;&gt;Subscribe&lt;/button&gt;;
&#125;</code></pre>

  <h2>Environment Configuration</h2>
  <p>Use environment variables:</p>
  <pre><code>// .env
REACT_APP_INFINITY_SITE_ID=your-site-id
REACT_APP_INFINITY_DOMAIN=your-domain.com</code></pre>

  <p>Next: <a href="/docs/frameworks/vue">Vue.js Integration</a></p>
</DocsLayout>
