---
import DocsLayout from "../../../layouts/DocsLayout.astro";
---

<DocsLayout title="Webflow Integration - Infinity Metrics">
  <h1>Webflow Integration</h1>
  <p>
    Complete guide to integrating Infinity Metrics with Webflow websites using
    custom code.
  </p>

  <h2>Site-Wide Integration</h2>
  <p>Add the tracking script to your Webflow site:</p>
  <ol>
    <li>Go to Project Settings → Custom Code</li>
    <li>Add to the Head Code section:</li>
  </ol>
  <pre><code>&lt;script src="https://your-domain.com/infinity.js"&gt;&lt;/script&gt;
&lt;script&gt;
  Infinity.init(&#123;
    site_id: 'your-site-id'
  &#125;);
&lt;/script&gt;</code></pre>

  <h2>Page-Specific Tracking</h2>
  <p>Add custom tracking to specific pages:</p>
  <ol>
    <li>Go to Page Settings → Custom Code</li>
    <li>Add to the Head Code section:</li>
  </ol>
  <pre><code>&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() &#123;
  Infinity.track('page_view', &#123;
    page_name: 'Landing Page',
    page_type: 'marketing'
  &#125;);
&#125;);
&lt;/script&gt;</code></pre>

  <h2>Form Tracking</h2>
  <p>Track Webflow form submissions:</p>
  <pre><code>&lt;!-- Add to page with forms --&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() &#123;
  // Track form submissions
  const forms = document.querySelectorAll('form');
  forms.forEach(form =&gt; &#123;
    form.addEventListener('submit', function() &#123;
      Infinity.track('form_submit', &#123;
        form_name: this.getAttribute('name') || 'contact_form',
        page_url: window.location.href
      &#125;);
    &#125;);
  &#125;);
&#125;);
&lt;/script&gt;</code></pre>

  <h2>E-commerce Tracking</h2>
  <p>Track Webflow e-commerce events:</p>
  <pre><code>&lt;!-- Add to e-commerce pages --&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() &#123;
  // Track add to cart
  const addToCartButtons = document.querySelectorAll('[data-wf-cart-type="add-to-cart"]');
  addToCartButtons.forEach(button =&gt; &#123;
    button.addEventListener('click', function() &#123;
      const productElement = this.closest('[data-wf-product-type="product"]');
      const productName = productElement.querySelector('h2').textContent;
      
      Infinity.track('add_to_cart', &#123;
        product_name: productName,
        page_url: window.location.href
      &#125;);
    &#125;);
  &#125;);
&#125;);
&lt;/script&gt;</code></pre>

  <h2>Button Click Tracking</h2>
  <p>Track specific button clicks:</p>
  <pre><code>&lt;!-- Add to pages with important buttons --&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() &#123;
  // Track CTA button clicks
  const ctaButtons = document.querySelectorAll('.cta-button');
  ctaButtons.forEach(button =&gt; &#123;
    button.addEventListener('click', function() &#123;
      Infinity.track('cta_click', &#123;
        button_text: this.textContent,
        button_location: this.closest('section').className
      &#125;);
    &#125;);
  &#125;);
&#125;);
&lt;/script&gt;</code></pre>

  <h2>Environment Configuration</h2>
  <p>Use different configurations for staging and production:</p>
  <pre><code>&lt;script&gt;
  var siteId = window.location.hostname === 'your-domain.com' ? 
    'production-site-id' : 'staging-site-id';
  
  Infinity.init(&#123;
    site_id: siteId
  &#125;);
&lt;/script&gt;</code></pre>

  <p>Next: <a href="/docs/sdk-reference">SDK Reference</a></p>
</DocsLayout>
