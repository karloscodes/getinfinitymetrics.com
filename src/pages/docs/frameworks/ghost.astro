---
import DocsLayout from "../../../layouts/DocsLayout.astro";
---

<DocsLayout title="Ghost Integration - Infinity Metrics">
  <h1>Ghost Integration</h1>
  <p>
    Complete guide to integrating Infinity Metrics with Ghost publishing
    platform.
  </p>

  <h2>Code Injection</h2>
  <p>Add the tracking script via Ghost's code injection feature:</p>
  <ol>
    <li>Go to Ghost Admin → Settings → Code Injection</li>
    <li>Add to the Site Header section:</li>
  </ol>
  <pre><code>&lt;script src="https://your-domain.com/infinity.js"&gt;&lt;/script&gt;
&lt;script&gt;
  Infinity.init(&#123;
    site_id: 'your-site-id'
  &#125;);
&lt;/script&gt;</code></pre>

  <h2>Theme Integration</h2>
  <p>Add to your theme's default.hbs file:</p>
  <pre><code>&lt;!-- Add before closing &lt;/head&gt; tag --&gt;
&lt;script src="https://your-domain.com/infinity.js"&gt;&lt;/script&gt;
&lt;script&gt;
  Infinity.init(&#123;
    site_id: 'your-site-id'
  &#125;);
&lt;/script&gt;
&lt;/head&gt;</code></pre>

  <h2>Post-Specific Tracking</h2>
  <p>Track different post types with Ghost helpers:</p>
  <pre><code>&lt;!-- Add to post.hbs --&gt;
&#123;&#123;#post&#125;&#125;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() &#123;
  Infinity.track('post_view', &#123;
    post_id: '&#123;&#123;id&#125;&#125;',
    post_title: '&#123;&#123;title&#125;&#125;',
    post_type: '&#123;&#123;#if page&#125;&#125;page&#123;&#123;else&#125;&#125;post&#123;&#123;/if&#125;&#125;',
    tags: [&#123;&#123;#foreach tags&#125;&#125;'&#123;&#123;name&#125;&#125;'&#123;&#123;#unless @last&#125;&#125;,&#123;&#123;/unless&#125;&#125;&#123;&#123;/foreach&#125;&#125;]
  &#125;);
&#125;);
&lt;/script&gt;
&#123;&#123;/post&#125;&#125;</code></pre>

  <h2>Membership Tracking</h2>
  <p>Track member actions and subscriptions:</p>
  <pre><code>&lt;!-- Track member signup --&gt;
&#123;&#123;#if @member&#125;&#125;
&lt;script&gt;
Infinity.track('member_signup', &#123;
  member_status: '&#123;&#123;@member.status&#125;&#125;',
  member_created: '&#123;&#123;@member.created_at&#125;&#125;'
&#125;);
&lt;/script&gt;
&#123;&#123;/if&#125;&#125;</code></pre>

  <h2>Environment Configuration</h2>
  <p>Use Ghost's configuration for different environments:</p>
  <pre><code>&lt;!-- Use different site IDs for different environments --&gt;
&lt;script&gt;
  var siteId = '&#123;&#123;@site.url&#125;&#125;' === 'https://your-production-domain.com' ? 
    'production-site-id' : 'development-site-id';
  
  Infinity.init(&#123;
    site_id: siteId
  &#125;);
&lt;/script&gt;</code></pre>

  <p>Next: <a href="/docs/frameworks/webflow">Webflow Integration</a></p>
</DocsLayout>
