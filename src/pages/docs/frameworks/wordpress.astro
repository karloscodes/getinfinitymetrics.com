---
import DocsLayout from "../../../layouts/DocsLayout.astro";
---

<DocsLayout title="WordPress Integration - Infinity Metrics">
  <h1>WordPress Integration</h1>
  <p>
    Complete guide to integrating Infinity Metrics with WordPress websites using
    themes and plugins.
  </p>

  <h2>Theme Integration</h2>
  <p>Add the tracking script to your theme's functions.php file:</p>
  <pre><code>// functions.php
function add_infinity_metrics() &#123;
    ?&gt;
    &lt;script src="https://your-domain.com/infinity.js"&gt;&lt;/script&gt;
    &lt;script&gt;
      Infinity.init(&#123;
        site_id: 'your-site-id'
      &#125;);
    &lt;/script&gt;
    &lt;?php
&#125;
add_action('wp_head', 'add_infinity_metrics');</code></pre>

  <h2>Header.php Integration</h2>
  <p>Alternatively, add directly to your theme's header.php:</p>
  <pre><code>&lt;!-- Add before closing &lt;/head&gt; tag --&gt;
&lt;script src="https://your-domain.com/infinity.js"&gt;&lt;/script&gt;
&lt;script&gt;
  Infinity.init(&#123;
    site_id: 'your-site-id'
  &#125;);
&lt;/script&gt;
&lt;/head&gt;</code></pre>

  <h2>Custom Post Type Tracking</h2>
  <p>Track different post types with custom events:</p>
  <pre><code>// functions.php
function track_post_views() &#123;
    if (is_single()) &#123;
        global $post;
        ?&gt;
        &lt;script&gt;
        document.addEventListener('DOMContentLoaded', function() &#123;
            Infinity.track('post_view', &#123;
                post_id: &lt;?php echo $post-&gt;ID; ?&gt;,
                post_type: '&lt;?php echo $post-&gt;post_type; ?&gt;',
                post_title: '&lt;?php echo esc_js($post-&gt;post_title); ?&gt;'
            &#125;);
        &#125;);
        &lt;/script&gt;
        &lt;?php
    &#125;
&#125;
add_action('wp_footer', 'track_post_views');</code></pre>

  <h2>E-commerce Integration</h2>
  <p>For WooCommerce stores, track purchase events:</p>
  <pre><code>// Track completed purchases
function track_woocommerce_purchase($order_id) &#123;
    $order = wc_get_order($order_id);
    ?&gt;
    &lt;script&gt;
    Infinity.track('purchase', &#123;
        transaction_id: '&lt;?php echo $order-&gt;get_id(); ?&gt;',
        value: &lt;?php echo $order-&gt;get_total(); ?&gt;,
        currency: '&lt;?php echo $order-&gt;get_currency(); ?&gt;'
    &#125;);
    &lt;/script&gt;
    &lt;?php
&#125;
add_action('woocommerce_thankyou', 'track_woocommerce_purchase');</code></pre>

  <h2>Environment Configuration</h2>
  <p>Use WordPress constants for configuration:</p>
  <pre><code>// wp-config.php
define('INFINITY_SITE_ID', 'your-site-id');
define('INFINITY_DOMAIN', 'your-domain.com');

// functions.php
function add_infinity_metrics() &#123;
    $site_id = defined('INFINITY_SITE_ID') ? INFINITY_SITE_ID : 'default-site-id';
    ?&gt;
    &lt;script&gt;
      Infinity.init(&#123;
        site_id: '&lt;?php echo $site_id; ?&gt;'
      &#125;);
    &lt;/script&gt;
    &lt;?php
&#125;</code></pre>

  <p>Next: <a href="/docs/frameworks/ghost">Ghost Integration</a></p>
</DocsLayout>
